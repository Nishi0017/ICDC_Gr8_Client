<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Player Registration</title>
  <link rel="stylesheet" href="register.css" />
</head>
<body>
  <header class="site-header" role="banner">
    <h1 class="site-title" style="display:flex; align-items:center; gap:64px;">
      Player Registration
      <!-- キー可視化パネル -->
      <div id="keyVisualizer" style="display:grid; grid-template-columns: repeat(3, 40px); grid-gap:6px;">
        <div class="panel" data-key="q">B</div>
        <div class="panel" data-key="w">↑</div>
        <div class="panel" data-key="e">E</div>
        <div class="panel" data-key="a">←</div>
        <div class="panel" data-key="s"></div>
        <div class="panel" data-key="d">→</div>
        <div class="panel" data-key="z"></div>
        <div class="panel" data-key="x">↓</div>
        <div class="panel" data-key="c"></div>
      </div>
    </h1>
  </header>

  <main class="card" role="main" aria-labelledby="title">

    <p class="lead">Use LED Mat to navigate and enter your name.</p>

    <div class="field highlight" id="usernameField">
      <label for="playerName">Player Name <span aria-hidden="true">*</span></label>
      <input id="playerName" name="playerName" type="text" maxlength="24" readonly />
      <div id="nameError" class="error" aria-live="polite" style="display:none"></div>
    </div>

    

    <div class="field highlight" id="gameField">
      <label for="gameSelect">Game to Play</label>
      <div id="gameSelect" class="select-box" tabindex="0">
        Snake Game
      </div>
      <div id="gameList" class="game-list hidden">
        <div data-value="snake-game">Snake Game</div>
        <div data-value="tank-game">Tank Game</div>
        <div data-value="shooting-game">Shooting Game</div>
        <div data-value="basketball-game">Basketball Game</div>
      </div>
    </div>

    <div class="field highlight" id="musicField">
      <label for="musicSelect">Background Music</label>
      <div id="musicSelect" class="select-box" tabindex="0">
        Classical
      </div>
      <div id="musicList" class="music-list hidden">
        <div data-value="classical">Classical</div>
        <div data-value="jazz">Jazz</div>
        <div data-value="rock">Rock</div>
        <div data-value="electronic">Electronic</div>
        <div data-value="ambient">Ambient</div>
      </div>
    </div>

    <div class="controls highlight" id="submitField">
      <button id="submitBtn">Register & Start Game</button>
    </div>

    <div id="result" class="result" style="display:none" aria-live="polite"></div>

    <!-- 仮想キーボード -->
    <div id="virtualKeyboard" class="vk hidden">
      <div class="vk-row" data-row="0"><span>A</span><span>B</span><span>C</span><span>D</span><span>E</span><span>F</span></div>
      <div class="vk-row" data-row="1"><span>G</span><span>H</span><span>I</span><span>J</span><span>K</span><span>L</span></div>
      <div class="vk-row" data-row="2"><span>M</span><span>N</span><span>O</span><span>P</span><span>Q</span><span>R</span></div>
      <div class="vk-row" data-row="3"><span>S</span><span>T</span><span>U</span><span>V</span><span>W</span><span>X</span></div>
      <div class="vk-row" data-row="4"><span>Y</span><span>Z</span></div>
    </div>

  </main>

  <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
  <script src="../mqtt_receiver.js"></script>
  <script src="register.js"></script>

</body>
</html>
